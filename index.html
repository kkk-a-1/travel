<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>公司一日旅遊行程｜探索猴硐與九份</title>
  <style>
    :root{
      --bg:#f5f6ff;
      --surface:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --shadow:0 16px 30px rgba(17,24,39,.10);

      /* 统一配色（和 Header 同一套紫色系） */
      --p1:#5b5cf6;
      --p2:#7c3aed;
      --p3:#a78bfa;
      --pbg:rgba(91,92,246,.10);
      --pbg2:rgba(124,58,237,.10);

      --btn:#0f172a;
      --btnHover:#4f46e5;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans TC",sans-serif;
      background:linear-gradient(180deg, #f3f4ff 0%, var(--bg) 60%);
      color:var(--text);
    }

    /* 手機版容器（桌機看也像 App） */
    .phone{
      max-width:430px;
      margin:0 auto;
      min-height:100vh;
      background:var(--bg);
    }

    header{
      position:sticky;
      top:0;
      z-index:10;
      padding:14px 16px 18px;
      background:linear-gradient(135deg, var(--p1), var(--p2));
      color:#fff;
      border-bottom-left-radius:28px;
      border-bottom-right-radius:28px;
      box-shadow:0 16px 30px rgba(91,92,246,.25);
    }

    .topbar{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;}
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 10px;
      border-radius:999px;
      background:rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.22);
      font-size:12px;
      font-weight:700;
      user-select:none;
      white-space:nowrap;
    }
    .pin{
      width:34px;height:34px;border-radius:12px;
      display:grid;place-items:center;
      background:rgba(255,255,255,.16);
      border:1px solid rgba(255,255,255,.22);
      cursor:pointer;
      user-select:none;
      transition:transform .15s ease;
    }
    .pin:active{transform:translateY(1px)}

    h1{
      margin:14px 0 6px;
      font-size:34px;
      line-height:1.06;
      letter-spacing:-.4px;
      font-weight:900;
    }
    .sub{
      margin:0;
      font-size:13px;
      opacity:.92;
      display:flex;
      align-items:center;
      gap:8px;
    }

    .wrap{padding:14px 14px 40px;}

    .dayCard{
      margin-top:-26px;
      display:flex;
      gap:12px;
      align-items:flex-start;
    }

    .dayBadge{
      width:76px;
      height:92px;
      border-radius:18px;
      background:var(--surface);
      box-shadow:var(--shadow);
      border:1px solid #eef2ff;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:6px;
      flex:0 0 auto;
    }
    .dayBadge .t{font-size:12px;color:var(--p1);font-weight:900;letter-spacing:.8px;}
    .dayBadge .n{font-size:26px;color:var(--p1);font-weight:900;}
    .dayBadge .dot{width:6px;height:6px;border-radius:999px;background:var(--p3);}

    .dayInfo{
      flex:1;
      padding-top:10px;
      min-width:0;
    }
    .dayInfo .title{
      font-size:18px;
      font-weight:900;
      margin:0;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .dayInfo .desc{
      margin:6px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.5;
    }

    .remind{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      background:rgba(255,255,255,.72);
      border:1px solid rgba(91,92,246,.18);
      box-shadow:0 10px 20px rgba(17,24,39,.06);
      display:flex;
      align-items:flex-start;
      gap:10px;
      color:#4f46e5;
      font-size:12px;
      font-weight:800;
    }
    .remind .icon{
      width:18px;height:18px;border-radius:8px;
      display:grid;place-items:center;
      background:rgba(91,92,246,.16);
      flex:0 0 auto;
      margin-top:1px;
    }

    .timeline{
      margin-top:14px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .itemWrap{position:relative;padding-left:16px;}

    .dotline{
      position:absolute;
      left:6px;
      top:14px;
      bottom:-14px;
      width:2px;
      background:linear-gradient(180deg, rgba(91,92,246,.35), rgba(91,92,246,0));
    }

    .dotpoint{
      position:absolute;
      left:0;
      top:10px;
      width:14px;height:14px;
      border-radius:999px;
      background:var(--surface);
      border:3px solid rgba(91,92,246,.35);
      box-shadow:0 8px 18px rgba(17,24,39,.12);
    }

    /* 整張卡片可點擊，直接 Google 導航 */
    .cardLink{
      display:block;
      text-decoration:none;
      color:inherit;
    }

    .card{
      background:var(--surface);
      border:1px solid #eef2ff;
      border-radius:22px;
      box-shadow:0 12px 24px rgba(17,24,39,.08);
      overflow:hidden;
      transition:transform .15s ease, box-shadow .15s ease;
    }
    .card:active{transform:translateY(1px);}

    .cardInner{padding:14px 14px 12px;}

    .meta{display:flex;align-items:center;justify-content:space-between;gap:10px;}
    .time{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      background:rgba(17,24,39,.04);
      color:#4b5563;
      font-weight:800;
      font-size:13px;
      white-space:nowrap;
    }

    .tag{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      font-weight:900;
      white-space:nowrap;
      border:1px solid rgba(91,92,246,.22);
      background:linear-gradient(135deg, var(--pbg), var(--pbg2));
      color:var(--p1);
    }

    .place{margin:10px 0 0;font-size:18px;font-weight:900;letter-spacing:-.2px;}
    .intro{margin:8px 0 0;color:var(--muted);font-size:13px;line-height:1.6;}

    .highlight{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      background:rgba(91,92,246,.08);
      border:1px solid rgba(91,92,246,.16);
      color:#4f46e5;
      font-size:12px;
      font-weight:800;
      display:flex;
      align-items:flex-start;
      gap:10px;
    }
    .star{
      width:18px;height:18px;border-radius:8px;
      display:grid;place-items:center;
      background:rgba(91,92,246,.16);
      flex:0 0 auto;
      margin-top:1px;
    }

    .imgBox{
      margin-top:12px;
      border-radius:16px;
      overflow:hidden;
      background:#f3f4f6;
      border:1px solid #eef2ff;
      aspect-ratio: 16/9;
      position:relative;
    }
    .imgBox img{
      width:100%;height:100%;object-fit:cover;display:block;
    }
    .imgFade{
      position:absolute;inset:0;
      background:linear-gradient(180deg, rgba(255,255,255,0) 55%, rgba(255,255,255,.82) 100%);
      pointer-events:none;
    }

    .cta{
      margin-top:12px;
      padding:0 14px 14px;
    }
    .btn{
      width:100%;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:12px 14px;
      border-radius:14px;
      background:var(--btn);
      color:#fff;
      border:0;
      font-weight:900;
      letter-spacing:.2px;
      cursor:pointer;
      box-shadow:0 10px 18px rgba(15,23,42,.18);
      user-select:none;
      text-decoration:none;
    }
    .btn:active{transform:translateY(1px)}

    @media (hover:hover){
      .btn:hover{background:var(--btnHover)}
    }

    /* 小图标（纯 CSS） */
    .i{display:inline-block; width:16px; height:16px; position:relative;}
    .i.clock::before{content:"";position:absolute;inset:0;border:2px solid rgba(75,85,99,.55);border-radius:999px;}
    .i.clock::after{content:"";position:absolute;left:50%;top:50%;width:2px;height:6px;background:rgba(75,85,99,.55);transform:translate(-50%,-90%);border-radius:2px;box-shadow:4px 3px 0 0 rgba(75,85,99,.55);}

    .i.nav::before{content:"";position:absolute;left:2px;top:3px;width:12px;height:10px;border:2px solid rgba(255,255,255,.9);border-left:0;border-bottom:0;transform:rotate(45deg);border-radius:2px;}

    .i.map::before{content:"";position:absolute;left:2px;top:2px;width:12px;height:12px;border-radius:12px;border:2px solid rgba(255,255,255,.9);}
    .i.map::after{content:"";position:absolute;left:7px;top:7px;width:4px;height:4px;border-radius:999px;background:rgba(255,255,255,.9);transform:translate(-50%,-50%);}

    .end{
      margin:8px 0 18px;
      color:#9ca3af;
      font-size:13px;
      text-align:center;
      padding:10px 0;
    }
  </style>
</head>
<body>
  <div class="phone">

    <header>
      <div class="topbar">
        <div class="chip" id="chipDate">2026.09.20</div>
        <button class="pin" id="openMapAll" type="button" title="打開 Google 地圖（路線模式）">
          <span class="i map" aria-hidden="true"></span>
        </button>
      </div>

      <h1>探索猴硐與九份</h1>
      <p class="sub">公司 1 日小旅行・探索猴硐與九份</p>
    </header>

    <div class="wrap">
      <section class="dayCard">
        <div class="dayBadge" aria-hidden="true">
          <div class="t">DAY</div>
          <div class="n">20</div>
          <div class="dot"></div>
        </div>
        <div class="dayInfo">
          <h2 class="title"> 猴硐九份一日遊</h2>
          <p class="desc">山上健行與貓村時光。每一張行程卡片都可直接點擊，立刻開啟 Google 導航。</p>

          <div class="remind">
            <div class="icon" aria-hidden="true">!</div>
            <div>提醒事項：請穿著輕鬆健行服裝</div>
          </div>
        </div>
      </section>

      <main class="timeline" id="timeline"></main>
      <div class="end">今日行程結束</div>
    </div>
  </div>

  <script>
    // ========= 可自行修改的設定 =========
    const TRIP_DATE = '2026.09.20'; // 左上角日期：未來只要改這一行即可

    // ========= 行程資料（圖片使用本地 PNG；避免外連失效與亂碼） =========
    const schedule = [
      {
        time: '09:20',
        type: '交通',
        place: 'CAAM承德172',
        subtitle: '公司出發',
        intro: '集合準時出發，確認隨身物品與飲水，準備開啟今日的公司小旅行。',
        img: './images/start.png',
        highlight: '建議提早 5 分鐘到場集合',
      },
      {
        time: '10:20',
        type: '活動',
        place: '猴硐遊客中心',
        subtitle: '抵達',
        intro: '抵達猴硐後先在遊客中心，確認路線與周邊資訊，再開始探索貓村。',
        img: './images/houtong-center.png',
        highlight: '可先補水、上洗手間、拿導覽資訊',
      },
      {
        time: '10:40',
        type: '景點',
        place: '猴硐車站周邊',
        subtitle: '步行抵達（貓村／煤礦園區）',
        intro: '步行抵達。走訪猴硐貓村與猴硐煤礦博物園區，感受獨特氛圍。',
        img: './images/houtong-station.png',
        highlight: '貓奴天堂與礦業歷史一次滿足',
      },
      {
        time: '11:45',
        type: '交通',
        place: '離開猴硐',
        subtitle: '開車前往九份',
        intro: '集合上車前往九份，路程不長但山路彎多，容易暈車者可先準備。',
        img: './images/leave-houtong.png',
        highlight: '上車前建議先補充水分',
      },
      {
        time: '12:00',
        type: '美食',
        place: '九份星塵景觀餐廳',
        subtitle: '午餐',
        intro: '在景觀餐廳享用午餐，邊吃邊看山海景色，為下午的老街散步充電。',
        img: './images/jiufen-food.png',
        highlight: '景觀午餐時光，適合拍照留念',
      },
      {
        time: '13:30',
        type: '景點',
        place: '九份老街（豎崎路入口）',
        subtitle: '飯後散步',
        intro: '從派出所旁的豎崎路出發，漫步九份老街，沿途小吃、茶館與巷弄，慢慢逛最有味道。',
        img: './images/jiufen-oldstreet.png',
        highlight: '建議穿好走的鞋，留意階梯路段',
        // 需求：顯示名稱不變，但導航目的地改成指定地址（可自行修改）
        destination: '九份紅樓景觀餐廳 224008新北市瑞芳區輕便路131號'
      },
      {
        time: '15:30',
        type: '交通',
        place: '台陽停車場（集合點）',
        subtitle: '準備返程',
        intro: '抵達集合地點，清點人員與物品後準備返程。',
        img: './images/taiyang-parking.png',
        highlight: '集合時間固定，請準時回到停車場',
      },
    ];

    const $ = (sel) => document.querySelector(sel);
    const timeline = $('#timeline');

    // 日期顯示
    $('#chipDate').textContent = TRIP_DATE;

    // ========= 導航：Google Maps 路線模式（目前位置 → 目的地） =========
    // 自動判斷走路 / 開車：
    // - subtitle 或 place 含「步行」「老街」「車站周邊」→ walking
    // - 其他預設 driving
    function autoTravelMode(item){
      const s = `${item.place||''} ${item.subtitle||''}`;
      const walkingKeywords = ['步行','老街','車站周邊'];
      return walkingKeywords.some(k => s.includes(k)) ? 'walking' : 'driving';
    }

    // 目的地：若有 destination 就用 destination，否則用 place
    function destinationText(item){
      return (item.destination && String(item.destination).trim()) ? item.destination : item.place;
    }

    function mapsDirUrl(item){
      const mode = item.travelMode || autoTravelMode(item);
      const dest = destinationText(item);
      return `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(dest)}&travelmode=${encodeURIComponent(mode)}&dir_action=navigate`;
    }

    // Header 右上角：直接導到第一站（路線模式）
    $('#openMapAll').addEventListener('click', () => {
      const first = schedule[0];
      window.open(mapsDirUrl(first), '_blank', 'noopener');
    });

    function cardTemplate(item, isLast){
      const href = mapsDirUrl(item);

      return `
        <section class="itemWrap">
          <div class="dotpoint" aria-hidden="true"></div>
          ${!isLast ? '<div class="dotline" aria-hidden="true"></div>' : ''}

          <a class="cardLink" href="${href}" target="_blank" rel="noopener noreferrer" aria-label="開啟 Google 導航：${item.place}">
            <article class="card">
              <div class="cardInner">
                <div class="meta">
                  <div class="time"><span class="i clock" aria-hidden="true"></span>${item.time}</div>
                  <div class="tag">${item.type}</div>
                </div>

                <div class="place">${item.place}${item.subtitle ? `（${item.subtitle}）` : ''}</div>
                <p class="intro">${item.intro || ''}</p>

                ${item.highlight ? `
                  <div class="highlight">
                    <div class="star" aria-hidden="true">★</div>
                    <div>${item.highlight}</div>
                  </div>
                ` : ''}

                ${item.img ? `
                  <div class="imgBox" aria-hidden="true">
                    <img src="${item.img}" alt="${item.place}" loading="lazy" onerror="this.style.display='none'" />
                    <div class="imgFade"></div>
                  </div>
                ` : ''}
              </div>

              <div class="cta">
                <span class="btn">
                  <span class="i.nav" aria-hidden="true"></span>
                  Google Map 導航
                </span>
              </div>
            </article>
          </a>
        </section>
      `;
    }

    function render(){
      timeline.innerHTML = schedule.map((s, idx) => cardTemplate(s, idx === schedule.length - 1)).join('');
    }

    render();

    // ========= 修改「九份老街」導航目的地 =========
    // destination: '九份紅樓景觀餐廳 224008新北市瑞芳區輕便路131號'
  </script>
</body>
</html>
